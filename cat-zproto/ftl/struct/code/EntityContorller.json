{
	"content":"package com.cat.server.game.module.${entity.getEntityName() ? lower_case};\n\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\n\nimport com.cat.net.network.annotation.Cmd;\nimport com.cat.net.network.base.GameSession;\nimport com.cat.server.game.data.proto.PBDefine.PBProtocol;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.cat.server.game.helper.result.ErrorCode;\nimport com.cat.server.game.module.${entity.getEntityName()?lower_case}.proto.*;\nimport ${protocolObj.getDependenceImport()};\nimport ${protocolObj.getJavaImport()};\n\n/**\n * ${entity.getEntityName()}控制器\n */\n@Controller\npublic class ${entity.getEntityName()}Controller {\n\t\n\tprivate static final Logger log = LoggerFactory.getLogger(${entity.getEntityName()}Controller.class);\n\t\n\t@Autowired\n\tprivate ${entity.getEntityName()}Service ${entity.getEntityName() ? uncap_first}Service;\n\t\n\t<#if protoReqStructList ? exists>\n\t<#list protoReqStructList as proto>\n\t\n\t/*\n\t*${proto.comment}\n\t*/\n\t@Cmd(value = PBProtocol.${proto.name}_VALUE)\n\tpublic void ${proto.name}(GameSession session, ${proto.name} req) {\n\t\tlong playerId = session.getPlayerId();\n\t\t${protoAckStructMap[proto.name].name}Resp ack = ${protoAckStructMap[proto.name].name}Resp.newInstance();\n\t\t<#if protoAckStructMap[proto.name].fields ? exists>\n\t\t<#list protoAckStructMap[proto.name].fields as ackStruct>\n\t\t<#if ackStruct.name == 'code'>\n\t\t<#assign  isCode = \"true\"/>\n\t\t</#if>\n\t\t</#list>\n\t\t</#if>\n\t\t<#if isCode==\"true\">\n\t\tErrorCode code = ${entity.getEntityName() ? uncap_first}Service.${proto.name ? uncap_first}(playerId, req, ack);\n\t\tack.setCode(code.getCode());\n\t\t<#else>\n\t\t${entity.getEntityName() ? uncap_first}Service.${proto.name ? uncap_first}(playerId, req, ack);\n\t\t</#if>\n\t\t${entity.getEntityName() ? uncap_first}Service.sendMessage(playerId, ack);\n\t}\n\t<#assign  isCode = \"false\"/>\n\t</#list>\n\t</#if>\n\t\n\n}\n",
	"id":1002,
	"name":"EntityContorller",
	"type":1
}